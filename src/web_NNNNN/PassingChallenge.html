<!DOCTYPE html>
<!-- saved from url=(0050)http://blog.themearmada.com/demos/off-canvas-menu/ -->
<html lang="en">

<head>
    <title>Passing UI</title>
    <meta charset="UTF-8">
    <!--Font-->
    <link href='https://fonts.googleapis.com/css?family=Montserrat:700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Signika' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="font-awesome-4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="jquery-ui-1.11.4/jquery-ui.css">
    <link rel="stylesheet" type="text/css" href="Ps_js_css/Psgeneral.css">
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/main.js"></script>
    <script src="jquery-ui-1.11.4/jquery-ui.js"></script>
    <script src="jquery-ui-1.11.4/jquery-min.js"></script>
    <script src="js/eventemitter2.min.js"></script>
    <link rel="stylesheet" href="Ps_js_css/Psworldmap.css">
    <!--  <script src="connect_Robot1.js"></script> -->
    <script src="js/roslib.js"></script>
    <script src="topic/Topic_Publish.js"></script>
     <script type="text/javascript">
    var key = [];

    function keysPressed(e) {
        key[e.keyCode] = true;
       
        if (key[49]) {
            topicROSLevel(1);
        }
        if (key[50]) {
            topicROSLevel(2);
        }
        if (key[51]) {
            topicROSLevel(3);
        }
        if (key[52]) {
            topicROSLevel(4);
        }
        if (key[53]) {
            topicROSLevel(10);
        }     
    }

    function keyuped(e) {
        key[e.keyCode] = false;
    }

    window.addEventListener("keydown", keysPressed, false);
    window.addEventListener("keyup", keyuped, false);
    </script>
    <!-- button_action -->
    <script>
    $(document).ready(function() {
        $("#Btn_Stop").click(function() {
            $(this).addClass("Btn_Sheng_press");
            $(this).removeClass("Btn_Sheng");
            $("#SendStart").addClass("Btn_Sheng");
            $("#SendStart").removeClass("Btn_Sheng_press");
        });

        $("#SendStart").click(function() {
            $(this).addClass("Btn_Sheng_press");
            $(this).removeClass("Btn_Sheng");
            $("#Btn_Stop").addClass("Btn_Sheng");
            $("#Btn_Stop").removeClass("Btn_Sheng_press");
        });

        $('#General_tabs li').each(function(i) {
            var _i = i;

            // 綁定click事件到頁籤上，若要改為滑鼠移入切換頁籤的話，將click改為mouseenter
            $(this).click(function() {
                // 移除其他頁籤的class，並將class新增至所選頁籤
                $(this).parent().children().removeClass('enable').eq(_i).addClass('enable');
                // 隱藏其他頁籤的內容，並顯示所選頁籤的內容
                $('#General_contents').children('div').hide().eq(_i).show();
            });

            $('#Btn_Setting li').mouseenter(function() {
                $(this).css("background-color", "#F39107");
            });
            $('#Btn_Setting li').mouseleave(function() {
                $(this).css("background-color", "#982A2A");
            });
        });
    });
    </script>
    <!-- general_value -->
    <script type="text/javascript">
    $(document).ready(function() {
        $("#GeneralSave").click(function() {
            //up();
            var ParameterBox = [];

            $("[name=ParameterElement]").each(function() {
                ParameterBox.push(parseFloat($(this).val()));
            });
            localStorage.setItem("ParameterStr", JSON.stringify(ParameterBox));
            GeneralTransfer(ParameterBox);
        });
    });
    </script>
    <style>
    #full-screen-background-image {
        z-index: -999;
        min-height: 100%;
        width: 100%;
        height: auto;
        position: fixed;
        top: 0;
        left: 0;
    }
    
    li.left {
        text-align: left;
        float: left;
        width: 30%;
    }
    
    li.center {
        text-align: center;
        display: inline-block;
        font-size: 1.3em;
        width: 40%;
    }
    
    li.right {
        text-align: right;
        float: right;
        width: 30%;
    }
    
    #addEvent {
        cursor: pointer;
    }
    
    #settingBtn {
        cursor: pointer;
    }
    
    #joystick_Canvas {
        cursor: crosshair;
    }
    
    body {
        overflow-y: hidden;
        overflow-x: hidden;
    }
    
    .action_box_inline {
        display: inline-block;
        width: 100px;
        height: 50px;
        margin: 10px;
    }
    
    .action_box {
        width: 100px;
        height: 50px;
        margin: 10px;
    }
    
    .team_box {
        width: 60px;
        height: 25px;
        margin: 10px;
        background-color: #ff661a;
        border-color: #ff9966;
        border-width: 2px;
        border-style: solid;
    }
    
    .team_box_press {
        width: 60px;
        height: 25px;
        margin: 10px;
        background-color: #ffddcc;
        border-color: #ff6600;
        border-width: 2px;
        border-style: solid;
    }
    
    .Side_Choice {
        height: 40px;
        width: 80px;
        color: #ffcc00;
        background-color: rgba(102, 51, 0, 0.8);
        border-color: #ff9900;
        border-width: 2px;
        border-style: solid;
        border-radius: 5px;
        text-align: center;
        opacity: 0.6;
    }
    
    .Side_Choice_press {
        height: 50px;
        width: 110px;
        color: #ff0000;
        background-color: rgba(255, 204, 0, 1);
        border-color: #cc0052;
        border-width: 4px;
        text-align: center;
        font-weight: bolder;
        font-size: 18px;
        border-radius: 10px;
        border-style: solid;
    }
    
    .Btn_set {
        color: #fff;
        background-color: #982A2A;
        border-color: #F39107;
        border-width: 3px;
        border-style: solid;
        text-align: center;
    }
    
    .Btn_set_press {
        color: #fff;
        background-color: #F39107;
        border-color: #F39107;
        border-width: 3px;
        text-align: center;
        border-style: solid;
    }
    
    .Btn_Sheng {
        color: #fff;
        background-color: #FFFFFF;
        border-color: #FFFFFF;
        border-width: 2px;
        border-style: solid;
        text-align: center;
    }
    
    .Btn_Sheng_press {
        color: #fff;
        background-color: #0066cc;
        border-color: #0066cc;
        border-width: 2px;
        text-align: center;
        border-style: solid;
    }
    
    #General_tabs li {
        background: #ddd;
        border: 1px solid #ccc;
        border-bottom: none;
        display: inline-block;
        margin-right: 5px;
        padding: 5px 10px;
        color: #999;
        cursor: pointer;
    }
    
    #General_tabs li:hover {
        color: #666;
    }
    
    #General_tabs li.enable {
        border-bottom: 1px solid #ddd;
        margin-bottom: -1px;
        color: #333;
    }
    
    #General_contents {
        background: #ddd;
        border: 1px solid #ccc;
        box-shadow: 0 0 16px #ccc;
    }
    
    #General_contents > div {
        display: none;
        text-align: justify;
        padding: 10px 15px;
    }
    
    #General_contents > div:first-of-type {
        display: block;
    }
    </style>
</head>

<body onload="Level0DrawLine(); world_Location();">
    <!-- Background -->
    <img alt="full screen background image" src="BG.jpg" id="full-screen-background-image" />
    <p style="font-family:Montserrat;font-size:500%;color:#FFF;text-align:center;">
        Passing Challenge UI
    </p>
    <!-- Wifi Setting-->
    <div class="modal fade" id="connect_Robot1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="exampleModalLabel">Connect To Robot1</h4>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group">
                            <label for="RobotIPDATA" class="control-label">Robot1_IP:</label>
                            <input name="RobotIPDATA" type="text" class="form-control" id="RobotIP" value=IP.textContent>
                        </div>
                        <div class="form-group">
                            <label for="RobotHostDATA" class="control-label">Robot1_Host:</label>
                            <input name="RobotHostDATA" type="text" class="form-control" id="RobotHost" value=Host.textContent>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal" onclick="ros.close();">Close</button>
                    <button type="button" class="btn btn-primary" id="send-message" onclick="RobotConnect();history.go(0);">Connect</button>
                </div>
            </div>
        </div>
    </div>
    <!-- General Setting -->
    <form class="modal fade" id="Setting_General" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" style="width: 500px">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4>SetGeneralForm</h4>
                </div>
                <div class="modal-body" id="GeneralDisplay" style="margin:auto;text-align:center;">
                    <!-- General_Button -->
                    <div class="form-group" id="SetGeneralButton">
                        <input type="radio" id="Parameter" name="radio" checked="checked" />
                        <label id="Parameter" for="Parameter">Parameter</label>
                    </div>
                    <div class="form-group" id="SPlanningVelocityModule" style="height:200px;text-align:left;border-style:solid;overflow:scroll;">
                        <table>
                            <tr>
                                <th>ConfigName&emsp;&emsp;</th>
                                <th>Value</th>
                            </tr>
                            <tr>
                                <td>(double) X_velocity</td>
                                <td>
                                    <input type="text" name="ParameterElement" value="0" />
                                </td>
                            </tr>
                            <tr>
                                <td>(double) Y_velocity</td>
                                <td>
                                    <input type="text" name="ParameterElement" value="0" />
                                </td>
                            </tr>
                            <tr>
                                <td>(double) Z_velocity</td>
                                <td>
                                    <input type="text" name="ParameterElement" value="0" />
                                </td>
                            </tr>
                            <tr>
                                <td>(double) end_pos</td>
                                <td>
                                    <input type="text" name="ParameterElement" value="0" />
                                </td>
                            </tr>
                            <tr>
                                <td>(double) shoot_value</td>
                                <td>
                                    <input type="text" name="ParameterElement" value="0" />
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-footer" id="SetGeneralExecute" style="text-align:center;">
                    <!-- <input id="next" type="button" value="NEXT"/> -->
                    <!-- &emsp;&emsp;&emsp;&emsp;&emsp; -->
                    <input id="GeneralSave" type="button" value="SAVE" />
                    <!-- <input id="close" type="button" value="CLOSE"/> -->
                </div>
            </div>
        </div>
    </form>
    <!-- General_Button_function-->
    <script>
    $("#SetGeneralButton").buttonset();

    // $("#SPlanningVelocity").click(function() {
    //     $("#SPlanningVelocityModule").show();
    //     $("#DistanceSettingsModule").hide();
    // });
    </script>
    <!--Connection Light-->
    <div>
        <canvas id="Light" width="45" height="45" style="border:0px solid #d3d3d3;top:9.5%; position:absolute;left:4%;"></canvas>
    </div>
    <div id="strategy_Area" style="z-index: -1;">
        <div id="statsPanel" style="border:0px solid #d3d3d3;">
        </div>
        <div id="worldmap_Area" style="border:0px solid #d3d3d3;">
            <img id="myImg" width="100%" height="100%" z-index="4" disabled="true" style="position:absolute; left:0%;opacity:0.3;visibility:visible;">
            <img id="myImg1" width="100%" height="100%" z-index="3" style="position:absolute; left:0%;opacity:0.3;visibility:hidden;">
            <img id="myImg2" width="100%" height="100%" z-index="2" style="position:absolute; left:0%;opacity:0.3;visibility:hidden;">
            <img id="myImg3" width="100%" height="100%" z-index="1" style="position:absolute; left:0%;opacity:0.3;visibility:hidden;">
        </div>
        <canvas id="Rect1" class="DrawRect" z-index="100" width="1200px" height="200px" style="position:absolute;bottom:0%;"></canvas>
    </div>
    <!--Wifi Style -->
    <div style="border:0px solid #d3d3d3;">
        <span style="cursor:pointer;top:9%; position:absolute; left:7%;"><img id="Setting_Wifi" src="img/wifi.png" width="50" data-toggle="modal" data-target="#connect_Robot1"></img></span>
    </div>
    <!--button action -->
    <!-- <div align="center" id="button_action" style="bottom:3%; position:absolute; left:45%;">
        <button id="Btn_Start" class=" Btn_Sheng action_box_inline" ><span style="cursor:pointer;">Start</span></button>
        <button id="Btn_Stop" class=" Btn_Sheng action_box_inline" onclick="topicROSGameState(0)"><span style="cursor:pointer;">Stop</span></button>
    </div> -->
    <!--Setting Button-->
    <div id="Btn_Setting" class="btn-group" style="left:5%;top:20%;position:absolute;">
        <button class="btn btn-default btn-md dropdown-toggle Btn_set" type="button" data-toggle="dropdown" aria-expanded="false" style="height:50px">
            Setting <span class="caret"></span>
        </button>
        <ul class="dropdown-menu Btn_set" role="menu" style="min-width:100px;text-align:left">
            <li id="Btn_General" style="margin-left:3px; line-height:30px; cursor:pointer;" data-toggle="modal" data-target="#Setting_General"><span>General</span></li>
        </ul>
    </div>
    <!-- Level Choose -->
    <div align="center" id="button_action" style="top:50%; position:absolute; left:14%; margin-left:-184px;font-family: Signika; font-size: 150% ; color:#fff; background-color: rgba(0,0,0,0.4);border: 7px double #FFF;border-radius: 10px;text-align:center;">
        <table>
            <tr>
                <td style="width:180px;">
                    <label></label>
                </td>
                <td>
                    <label></label>
                </td>
            </tr>
            <tr>
                <td style="width:180px;">
                    <div class="radio">
                        <label style="width:90px;">
                            <input type="radio" name="LevelElement" value="1">Level 1</label>
                    </div>
                </td>
                <td>
                    <label></label>
                </td>
            </tr>
            <tr>
                <td style="width:180px;">
                    <div class="radio">
                        <label style="width:90px;">
                            <input type="radio" name="LevelElement" value="2">Level 2</label>
                    </div>
                </td>
                <td>
                    <label></label>
                </td>
            </tr>
            <tr>
                <td style="width:180px;">
                    <div class="radio">
                        <label style="width:90px;">
                            <input type="radio" name="LevelElement" value="3">Level 3</label>
                    </div>
                </td>
                <td>
                    <label></label>
                </td>
            </tr>
            <tr>
                <td style="width:180px;">
                    <div class="radio">
                        <label style="width:90px;">
                            <input type="radio" name="LevelElement" value="4">Level 4</label>
                    </div>
                </td>
                <td>
                    <label></label>
                </td>
            </tr>
            <tr>
                <td style="width:180px;">
                    <input id="SendStart" type="button" value="Send" onclick="Level();" style="position:absolute;left:14%;color:blue;" />
                </td>
                <td>
                    <input id="Btn_Stop" type="button" value="Stop" onclick="topicROSLevel(10);" style="position:absolute;left:50%;color:blue;cursor:pointer;" />
                </td>
            </tr>
            <tr>
                <td style="height:75px;">
                    <label></label>
                </td>
                <td>
                    <label></label>
                </td>
            </tr>
        </table>
    </div>
    <!-- LevelFuncton -->
    <script>
    function Level() {
        var LevelBox = [];
        var Num;
        var obj = document.getElementsByName("LevelElement");
        for (var i = 0; i < obj.length; i++) {
            if (obj[i].checked) {
                LevelBox.push(parseInt(obj[i].value));
                switch (i + 1) {
                    case 1:
                        Level1DrawLine();
                        break;
                    case 2:
                        Level2DrawLine();
                        break;
                    case 3:
                        Level3DrawLine();
                        break;
                    case 4:
                        Level4DrawLine();
                        break;
                }
            }
        }
        /*LevelStrArea(LevelBox[0]);*/
        //target(LevelBox[0]);
        topicROSLevel(LevelBox[0]);
    }
    </script>
    <!-- Speed Input -->
    <div style="position: absolute;left:4.5%;top:30%; width:240px;">
        <table style="height:100%">
            <td colspan="2" align="center">
                <br>
                <label style="color:white">SPEED</label>
                <br>
                <input id="RobotRange" type="range" min="0" max="100" value="0" oninput="showValue(this.value)" />
                <br>
                <input type="text" id="RobotSpeed" size="12" value="0" onchange="rangeValue(this.value)" />
            </td>
        </table>
    </div>
    <script type="text/javascript">
    function showValue(newValue) {
        document.getElementById("RobotSpeed").value = newValue;
        topicROSSpeed(parseInt(newValue));
    }

    function rangeValue(newValue) {
        document.getElementById("RobotRange").value = newValue;
        topicROSSpeed(parseInt(newValue));
    }
    </script>
    <!-- variable_setting -->
    <script>
    var worldmap = {
        width: 750,
        height: 550,
        widthToheight: 750 / 550
    };
    var worldmap_canvas = document.getElementById("worldmap_Canvas");
    var worldmap_img = new Image();
    var strategy_Area = document.getElementById('strategy_Area');
    var widthToheight = 750 / 600;
    var windowWidth = window.innerWidth;
    var windowHeight = window.innerHeight;
    var windowWidthToHeight = windowWidth / windowHeight;
    var joystick_Area = document.getElementById('joystick');
    var joystick_canvas = document.getElementById("joystick_Canvas");
    var robotChoice = 0;
    var speed = 0;
    var Robpos = [999,999,999];
    var Robcmdvel = [999,999,999];
    var Robshoot = 0;
    </script>
    <script src="Ps_js_css/Psstorage.js"></script>
    <script src="Ps_js_css/Psworldmap.js"></script>
    <script src="Ps_js_css/PsROS.js"></script>
    <!-- <script src="joystick_base.js"></script> -->
</body>

</html>
